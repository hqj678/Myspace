{"ast":null,"code":"import $ from 'jquery';\nimport jwt_decode from 'jwt-decode';\nimport { useDispatch } from 'react-redux';\n\nlet LOGIN = (username, password) => {// const dispatch = useDispatch()\n  // $.ajax({\n  //   url: \"https://app165.acapp.acwing.com.cn/api/token/\",\n  //   type: \"POST\",\n  //   data: {\n  //     username,\n  //     password\n  //   },\n  //   success(resp) {\n  //     const {access, refresh} = resp;\n  //     const access_obj = jwt_decode(access);\n  //     setInterval(() => {\n  //       $.ajax({\n  //         url: \"https://app165.acapp.acwing.com.cn/api/token/refresh/\",\n  //         type: \"POST\",\n  //         data: {\n  //           refresh,\n  //         },\n  //         success(resp) {\n  //           dispatch({\n  //             type: 'updateAccess',\n  //             access\n  //           })\n  //         }\n  //       })\n  //     }, 4.5*60*1000);\n  //     $.ajax({\n  //       url: \"https://app165.acapp.acwing.com.cn/myspace/getinfo/\",\n  //       type: \"GET\",\n  //       data: {\n  //         user_id: access_obj.user_id,\n  //       },\n  //       headers: {\n  //         'Authorization': 'Bearer ' + access,\n  //       },\n  //       success(resp) {\n  //         dispatch({\n  //           type: \"updateUser\",\n  //           ...resp,\n  //           access: access,\n  //           refresh: refresh,\n  //           is_login: true\n  //         })\n  //       }\n  //     })          \n  //   },\n  // })\n};\n\n_c = LOGIN;\nexport default LOGIN;\n\nvar _c;\n\n$RefreshReg$(_c, \"LOGIN\");","map":{"version":3,"names":["$","jwt_decode","useDispatch","LOGIN","username","password"],"sources":["D:/Desk/web应用课/react/myspace/src/ajax/ajax.js"],"sourcesContent":["import $ from 'jquery'\r\nimport jwt_decode from 'jwt-decode'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nlet LOGIN = (username, password) => {\r\n\r\n  // const dispatch = useDispatch()\r\n\r\n  // $.ajax({\r\n  //   url: \"https://app165.acapp.acwing.com.cn/api/token/\",\r\n  //   type: \"POST\",\r\n  //   data: {\r\n  //     username,\r\n  //     password\r\n  //   },\r\n  //   success(resp) {\r\n  //     const {access, refresh} = resp;\r\n  //     const access_obj = jwt_decode(access);\r\n\r\n  //     setInterval(() => {\r\n  //       $.ajax({\r\n  //         url: \"https://app165.acapp.acwing.com.cn/api/token/refresh/\",\r\n  //         type: \"POST\",\r\n  //         data: {\r\n  //           refresh,\r\n  //         },\r\n  //         success(resp) {\r\n  //           dispatch({\r\n  //             type: 'updateAccess',\r\n  //             access\r\n  //           })\r\n  //         }\r\n  //       })\r\n  //     }, 4.5*60*1000);\r\n\r\n  //     $.ajax({\r\n  //       url: \"https://app165.acapp.acwing.com.cn/myspace/getinfo/\",\r\n  //       type: \"GET\",\r\n  //       data: {\r\n  //         user_id: access_obj.user_id,\r\n  //       },\r\n  //       headers: {\r\n  //         'Authorization': 'Bearer ' + access,\r\n  //       },\r\n  //       success(resp) {\r\n  //         dispatch({\r\n  //           type: \"updateUser\",\r\n  //           ...resp,\r\n  //           access: access,\r\n  //           refresh: refresh,\r\n  //           is_login: true\r\n  //         })\r\n  //       }\r\n  //     })          \r\n  //   },\r\n  // })\r\n}\r\n\r\nexport default LOGIN"],"mappings":"AAAA,OAAOA,CAAP,MAAc,QAAd;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,WAAT,QAA4B,aAA5B;;AAEA,IAAIC,KAAK,GAAG,CAACC,QAAD,EAAWC,QAAX,KAAwB,CAElC;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACD,CApDD;;KAAIF,K;AAsDJ,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}